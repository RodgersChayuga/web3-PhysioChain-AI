erDiagram
    Patient ||--o{ Treatment : "receives"
    Patient ||--o{ RewardAccount : "has"
    Patient ||--o{ ExerciseSession : "performs"
    Patient {
        address walletAddress
        string profileHash
        boolean isActive
        uint256 rewardPoints
    }

    Treatment ||--|{ ExercisePlan : "contains"
    Treatment ||--|| Therapist : "assigned_to"
    Treatment {
        uint256 treatmentId
        string diagnosisHash
        datetime startDate
        datetime endDate
        boolean isActive
    }

    Therapist ||--o{ Patient : "manages"
    Therapist {
        address walletAddress∏∏
        string profileHash
        string specialization
        boolean isActive
        string licenseHash
    }

    ExercisePlan ||--|{ Exercise : "includes"
    ExercisePlan {
        uint256 planId
        datetime startDate
        datetime endDate
        string frequency
        boolean isActive
    }

    Exercise ||--o{ ExerciseSession : "tracked_in"
    Exercise {
        uint256 exerciseId
        string name
        string instructionsHash
        string referenceFormHash
        uint256 rewardPoints
    }

    ExerciseSession {
        uint256 sessionId
        datetime timestamp
        float formAccuracy
        string videoHash
        string[] corrections
        uint256 rewardEarned
    }

    RewardAccount ||--o{ RewardTransaction : "contains"
    RewardAccount {
        uint256 accountId
        uint256 totalPoints
        uint256 availablePoints
    }

    RewardTransaction {
        uint256 transactionId
        uint256 points
        datetime timestamp
        string description
        boolean redeemed
    }

    ProgressAnalytics }o--|| Patient : "analyzes"
    ProgressAnalytics }o--|| Treatment : "measures"
    ProgressAnalytics {
        uint256 analyticsId
        json improvements
        json recommendations
        json trends
        datetime lastUpdated
    }